package KnapSack;
import java.util.Arrays;

public class Main {
    public static void main(String[] args) {
        int gen = 1;
        int[] weights = {
                1048576,1049601,1050625,1051649,1052673,1053697,1054721,1055745,1056769,1057793,
                1058817,1059841,1060865,1061889,1062913,1063937,1064961,1065985,1067009,1068033,
                1069057,1070081,1071105,1072129,1073153,1074177,1075201,1076225,1077249,1078273,
                1079297,1080321,1081345,1082369,1083393,1084417,1085441,1086465,1087489,1088513,
                1089537,1090561,1091585,1092609,1093633,1094657,1095681,1096705,1097729,1098753,
                1099777,1100801,1101825,1102849,1103873,1104897,1105921,1106945,1107969,1108993,
                1110017,1111041,1112065,1113089,1114113,1115137,1116161,1117185,1118209,1119233,
                1120257,1121281,1122305,1123329,1124353,1125377,1126401,1127425,1128449,1129473,
                1130497,1131521,1132545,1133569,1134593,1135617,1136641,1137665,1138689,1139713,
                1140737,1141761,1142785,1143809,1144833,1145857,1146881,1147905,1148929,1149953
        };
        int[] values = {
                1048574,1049603,1050624,1051651,1052672,1053699,1054719,1055747,1056768,1057795,
                1058816,1059843,1060864,1061891,1062912,1063939,1064959,1065987,1067008,1068035,
                1069056,1070083,1071104,1072131,1073152,1074179,1075199,1076227,1077248,1078275,
                1079296,1080323,1081344,1082371,1083392,1084419,1085439,1086467,1087488,1088515,
                1089536,1090563,1091584,1092611,1093632,1094659,1095679,1096707,1097728,1098755,
                1099776,1100803,1101824,1102851,1103872,1104899,1105919,1106947,1107968,1108995,
                1110016,1111043,1112064,1113091,1114112,1115139,1116159,1117187,1118208,1119235,
                1120256,1121283,1122304,1123331,1124352,1125379,1126399,1127427,1128448,1129475,
                1130496,1131523,1132544,1133571,1134592,1135619,1136639,1137667,1138688,1139715,
                1140736,1141763,1142784,1143811,1144832,1145859,1146879,1147907,1148928,1149955
        };
        int W;
        double totalWeight = 0;
        for(int weight: weights) {
            totalWeight += 0.495 * weight;
        }
        W = (int)Math.floor(totalWeight);
        int popSize = 1000;
        int geneLength = values.length;
        double mutationRate = 0.005;


        Population pop = new Population(popSize, geneLength, mutationRate, weights, values, W);

        while(gen <= 1000) {
            pop.evolve();
            System.out.println("Generation: " + gen++);
            System.out.println("Mutation Rate: " + (mutationRate * 100) + "%");
            System.out.println("Current Max value in Knapsack: " + pop.getBest().fitness);
            System.out.println("Gene sequence for weights: " + Arrays.toString(pop.getBest().genes));
            System.out.println("Total Weight of the best solution: " + pop.totalWeight());
            System.out.println();
        }
    }
}
